<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Notícias - Universo Geekistico</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <header>
    <div id="logo">
      <img src="imagem/logo ug.png" alt="Logo">
      Universo Geekistico
    </div>
    <nav id="menu">
      <a href="index.html">Home</a>
      <a href="noticias.html">Notícias</a>
      <a href="loja.html">Loja</a>
      <a href="sobre.html">Sobre</a>
    </nav>
    <div id="social-buttons">
      <a href="https://www.youtube.com/@UniversoGeekistico" target="_blank"><img src="imagem/youtube.png" alt="YouTube"></a>
      <a href="https://www.tiktok.com/@universogeekistico" target="_blank"><img src="imagem/tiktok.png" alt="TikTok"></a>
      <a href="https://www.instagram.com/universogeekistico/" target="_blank"><img src="imagem/instagram.png" alt="Instagram"></a>
      <a href="https://x.com/UGeekistico" target="_blank"><img src="imagem/x.webp" alt="X"></a>
    </div>          
  </header>

  <main>
    <div class="noticias" id="noticias-container">
      <!-- As postagens serão injetadas aqui -->
    </div>
  </main>

  <footer>
    <div id="footer-content">
      <span>&copy; 2025 Universo Geekístico - Todos os direitos reservados</span>
      <div id="footer-social">
        <a href="#"><img src="imagem/youtube.png" alt="YouTube"></a>
        <a href="#"><img src="imagem/tiktok.png" alt="TikTok"></a>
        <a href="#"><img src="imagem/instagram.png" alt="Instagram"></a>
        <a href="#"><img src="imagem/x.webp" alt="X"></a>
      </div>
    </div>
  </footer> 

  <script>
    function carregarPostagens() {
      const posts = JSON.parse(localStorage.getItem('posts')) || [];
      const container = document.getElementById('noticias-container');
      container.innerHTML = '';

      posts.forEach((post, index) => {
        const postagemElement = document.createElement('div');
        postagemElement.classList.add('noticias');

        const conteudoCurto = post.conteudo.slice(0, 300) + (post.conteudo.length > 300 ? '...' : '');

        postagemElement.innerHTML = `
          <div class="noticia-content">
            <h2>${post.titulo}</h2>
            <span class="autor"><strong>Autor:</strong> ${post.autor} | <strong>Data:</strong> ${post.data}</span>
            <img src="${post.imagem}" alt="Imagem da postagem" class="imagem-postagem">
            <p class="texto-postagem" id="texto-${index}">${conteudoCurto}</p>
            ${post.conteudo.length > 300 ? `<button onclick="mostrarMais(${index})" id="botao-${index}">Saiba mais</button>` : ''}
          </div>
        `;

        container.appendChild(postagemElement);
      });
    }

    function mostrarMais(index) {
      const posts = JSON.parse(localStorage.getItem('posts')) || [];
      const texto = document.getElementById(`texto-${index}`);
      const botao = document.getElementById(`botao-${index}`);
      const completo = posts[index].conteudo;

      if (botao.innerText === "Saiba mais") {
        texto.innerText = completo;
        botao.innerText = "Mostrar menos";
      } else {
        texto.innerText = completo.slice(0, 300) + '...';
        botao.innerText = "Saiba mais";
      }
    }

    window.onload = carregarPostagens;
  </script>

</body>
</html>
